<section class="chatbar">

    <h4>
        <fa name="hashtag"></fa>
        {{chatName}}
    </h4>

    <div class="messages-container" scroll-glue id="scrollbar">
        <ul class="list-unstyled">
            <li class="user-message clearfix" ng-repeat="message in messages | limitTo:-15 ">
                <a class="min-user-photo">
                    <img class="img-rounded" ng-src="{{message.author.avatar_url}}" alt="userphoto">
                </a>
                <dl>
                    <dt>
                        <a>{{message['author']['first_name']}}</a>
                        <time class="time">{{message['date_of_creation']}}</time></dt>
                    <dd><pre>{{message['message']}}</pre></dd>
                </dl>
            </li>
        </ul>
    </div>


    <div class="chat-form">

        <form ng-submit="sendMessage()">

            <div class="typing-wrap">
                <div class="typing" ng-show="isTyping">
                    {{typedUserName}} is typing..
                </div>
            </div>

            <textarea class="form-control" rows="3"
                      ng-model="newMessage"
                      ng-required="string"
                      key-press></textarea>

            <button class="btn btn-success">
                <fa name="{{ isLoading ? 'spinner' : 'check' }}"
                    spin="{{ isLoading }}"></fa>
                <span ng-hide="isLoading">Send</span>
            </button>

        </form>

    </div>

</section>
