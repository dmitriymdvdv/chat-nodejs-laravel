<div class="container-fluid">
    <table class="table">
        <thead>
            <tr>
                <th>id</th>
                <th>name</th>
                <th>email</th>
                <th>role</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="user in users">
                <td>{{ user.id }}</td>
                <td><user-link data="user"></user-link></td>
                <td>{{ user.email }}</td>
                <td>{{ user.role }}</td>
                <td>
                    <a href class="btn btn-xs btn-link" ng-click="editUser(user)"><span class="glyphicon glyphicon-pencil"></span> Edit</a>
                    <a href class="btn btn-xs btn-link" ng-click="deleteUser(user)"><span class="glyphicon glyphicon-trash"></span> Delete</a>
                </td>
            </tr>
            <tr>
                <td colspan="4" ng-show="!users.length">There are no users</td>
            </tr>
        </tbody>
    </table>

    <div class="add-button-container">
        <button type="button"
                class="btn btn-primary"
                ng-disabled="showForm"
                ng-click="showAddUserForm()">
            <span class="glyphicon glyphicon-plus"></span> Add
        </button>
    </div>

    <div class="panel panel-default" ng-show="showForm">
        <div class="panel-heading">{{ editMode ? 'Edit' : 'Add' }} user</div>
        <div class="panel-body">
            <form name="addUserForm" ng-submit="addUser()" novalidate>
                <div class="form-group" ng-class="{ 'has-error': !addUserForm.name.$valid && (addUserForm.name.$dirty || addUserForm.$submitted) }">
                    <label for="user-name">User name</label>
                    <input type="text"
                           class="form-control"
                           id="user-name"
                           ng-model="userData.name"
                           placeholder="User Name"
                           required>
                </div>
                <div class="form-group" ng-class="{ 'has-error': !addUserForm.email.$valid && (addUserForm.email.$dirty || addUserForm.$submitted) }">
                    <label for="user-email">email</label>
                    <input type="email"
                           class="form-control"
                           id="user-email"
                           ng-model="userData.email"
                           placeholder="email"
                           required>
                </div>
                <button type="submit" class="btn btn-primary">{{ editMode ? 'Save' : 'Add' }}</button>
                <button class="btn btn-link" ng-click="hideAddUserForm()">cancel</button>
            </form>
        </div>
    </div>
</div>